<div class="row cust-row">
    <app-progress-spinner [color]="color" [mode]="mode" [value]="value" *ngIf="displayProgressSpinnerInBlock" class="sq-global-backdrop center-aligned">
    </app-progress-spinner>
    <div class="col-12 title-note" style="padding: 0px;border-bottom: 1px solid #c8ced3;">
        <label style="font-size: 17px;margin: 0px;
    font-weight: 500;
    display: block;">TÌM KIẾM THÔNG TIN</label>
    </div>
    <div class="col-12" style="margin-top: 15px;padding: 0px;margin-bottom: 10px;display: flex;">

        <div class="form-row">
            <div class="form-group col-md-6">
                <label class="col-3 col-form-label" style="text-align: right;float: left;padding: 0px 5px 0px 0px;">Mã
                    nhân viên</label>
                <input maxlength="50" style="float: left;" [(ngModel)]="objSearchUser.employeeId" type="text"
                    class="form-control col-8" />
            </div>
            <div class="form-group col-md-6">
                <label class="col-3 col-form-label" style="text-align: right;float: left;padding: 0px 5px 0px 0px;">Họ
                    và tên</label>
                <input maxlength="50" style="float: left;" [(ngModel)]="objSearchUser.fullName" type="text"
                    class="form-control col-8" />
            </div>
            <div class="form-group col-md-6" style="padding-top: 5px;">
                <label class="col-3 col-form-label"
                    style="text-align: right;float: left;padding: 0px 5px 0px 0px;">UserAD</label>
                <input maxlength="50" style="float: left;" [(ngModel)]="objSearchUser.username" type="text"
                    class="form-control col-8" />
            </div>
            <div class="form-group col-md-6" style="padding-top: 5px;">
                <label class="col-3 col-form-label" style="text-align: right;float: left;padding: 0px 5px 0px 0px;">Số
                    điện thoại</label>
                <input numbersOnly maxlength="11" style="float: left;" [(ngModel)]="objSearchUser.phone" type="text"
                    class="form-control col-8" />
            </div>
            <div class="form-group col-md-6" style="padding-top: 5px;">
                <label class="col-3 col-form-label" style="text-align: right;float: left;padding: 0px 5px 0px 0px;">Chức
                    danh</label>
                <select style="float: left;" type="text" class="form-control col-8"
                    (change)="selectTitle($event.target.value)">
                    <option value="0">-- Chọn chức danh --</option>
                    <option [value]="item.id" *ngFor="let item of lstAllTitle">{{item.name}}</option>
                </select>
            </div>
            <div class="form-group col-md-6" style="padding-top: 5px;">
                <label class="col-3 col-form-label" style="text-align: right;float: left;padding: 0px 5px 0px 0px;">Chi
                    nhánh</label>
                <select style="float: left;" type="text" class="form-control col-8"
                    (change)="selectBranch($event.target.value)">
                    <option value="0">-- Chọn chi nhánh --</option>
                    <option [value]="item.id" *ngFor="let item of lstBranch">{{item.name}}</option>
                </select>
            </div>
        </div>
    </div>
    <div class="col-12" style="clear: both;text-align: center;padding-bottom: 10px;">
        <button type="button" style="cursor: pointer;" class="btn btn-secondary" (keyup.enter)="onEnter()"
            (click)="searchUser()">
            <i class="fa fa-search" aria-hidden="true" style="color:#FFFFFF"></i>
            Tìm kiếm</button>
    </div>
</div>
<div class="row " style="margin-bottom: 20px;margin-top: 5px;border: 1px solid #c8ced3;">
    <div class="col-12" style="padding: 0px; clear: both;">
        <div class="row" style="margin: 0px;">
            <div class="col" style="background: white;margin-right: 0px;">
                <div class="title-note" style="border-bottom: 1px solid #c8ced3;">
                    <label style="font-size: 17px;
                font-weight: 500;margin: 0px;">DANH SÁCH NGƯỜI DÙNG</label>
                    <span class="material-icons spanCursor" (click)="addUser()"
                        style="color: blue;float: right;">add</span>
                </div>
                <!-- danh sách -->
                <div class=" table-lst mat-elevation-z8">
                    <table class="table table-responsive table-fixed">
                        <thead>
                            <tr class="titleTD">
                                <td>Mã nhân viên</td>
                                <td>Username</td>
                                <td>Họ và tên</td>
                                <!-- <td>Chi nhánh</td> -->
                                <!-- <td>Phòng ban</td> -->
                                <!-- <td>Chức danh</td> -->
                                <td>SĐT</td>
                                <td>Email</td>
                                <td>Ngày hiêu lực</td>
                                <td>Ngày hết hạn</td>
                                <td>Trạng thái</td>
                                <td>Hành động</td>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td colspan="9" style="text-align: center;" >
                                    <app-progress-spinner *ngIf="displayProgressSpinnerInBlock"  [mode]="mode" [value]="value" [diameter]="50"
                                        class="center-aligned sq-relative-backdrop">
                                    </app-progress-spinner>
                                    <label *ngIf="lstUsers == null">Không có bản ghi</label>
                                </td>
                            </tr>
                            <tr *ngFor="let item of lstUsers;let i = index" class="hoverTr" style="cursor: pointer;">
                                <td (click)="detailUserById(item)" class="file-name col-xs-6" style="color: blue;">
                                    {{item.employeeId}}
                                    <!-- <p class="width-table width-table w-110" style="color: blue;"></p> -->
                                </td>
                                <td class="file-name col-xs-6">{{item.userName}}
                                </td>
                                <td class="file-name col-xs-6">{{item.fullName}}
                                </td>
                                <!-- <td>
                                    <p class="width-table w-110">{{item.branchIds}}</p>
                                </td>
                                <td>
                                    <p class="width-table w-100">{{item.department}}</p>
                                </td>
                                <td style="cursor: pointer;">
                                    <p class="width-table w-110" [matTooltip]="item.titles">{{item.titles}}</p>
                                </td> -->
                                <td style="text-align: center;" class="file-name col-xs-6">{{item.phone}}
                                </td>
                                <td class="file-name col-xs-6">{{item.email}}
                                </td>
                                <td class="file-name col-xs-6" style="text-align: center;">{{item.validFrom | date :
                                    'dd/MM/yyyy'}}
                                </td>
                                <td class="file-name col-xs-6" style="text-align: center;">{{item.validTo | date :
                                    'dd/MM/yyyy'}}
                                </td>
                                <td class="file-name col-xs-6" style="text-align: center;">
                                    {{getStatusCodeUser(item.statusCode) }}
                                </td>
                                <td class="file-name col-xs-6">
                                    <div class="example-button-container"
                                        style="display: block;text-align: center;font-size: 20px;">
                                        <!-- <span class="material-icons" *ngIf="item.statusCode == 'A' " (click)="detailUser(item)">edit</span>
                                        <span class="material-icons" *ngIf="item.statusCode == 'A' " (click)="lockUser(item)">lock</span>
                                        <span class="material-icons" *ngIf="item.statusCode == 'L' " (click)="unlockUser(item)">lock_open</span>
                                        <span class="material-icons" *ngIf="item.statusCode == 'A' || item.statusCode == 'L' " (click)="deleteUser(item)">delete</span> -->
                                        <i data-bs-toggle="tooltip" data-bs-placement="top" title="Tooltip on top"
                                            class="fa fa-pencil-square-o" style="margin-right: 5px;"
                                            *ngIf="item.statusCode == 'A' " (click)="detailUser(item)"
                                            aria-hidden="true"></i>
                                        <i class="fa fa-lock" (click)="lockUser(item)" style="margin-right: 5px;"
                                            *ngIf="item.statusCode == 'A' " aria-hidden="true"></i>
                                        <i class="fa fa-unlock-alt" (click)="unlockUser(item)"
                                            style="margin-right: 5px;" *ngIf="item.statusCode == 'L' "
                                            aria-hidden="true"></i>
                                        <i class="fa fa-trash-o" (click)="deleteUser(item)"
                                            *ngIf="item.statusCode == 'A' || item.statusCode == 'L' "
                                            aria-hidden="true"></i>
                                    </div>
                                </td>
                            </tr>
                        </tbody>

                    </table>
                    <nav aria-label="Page navigation for action list"
                        style="padding-bottom: 10px;margin-left: 10px;margin-right: 5px;padding-top: 10px;"
                        *ngIf="userPager.pager && userPager.pager.pages && userPager.pager.pages.length">
                        <div style="float: left; padding-top: 10px;">
                            <span>{{userPager.pager.getStatus()}}</span>
                        </div>
                        <ul class="pagination justify-content-end">
                            <div class="amout-show">
                                <span>Số lượng bản ghi/trang</span> &nbsp;
                                <select class="form-control numberPage"
                                    (change)="changePageSize($event.target.value,0)">
                                    <option selected value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                </select> &nbsp;&nbsp;
                            </div>

                            <li class="page-item" (click)="setActionPage(userPager.pager.currentPage - 1,0)">
                                <a class="page-link" href="javascript: void(0)" tabindex="-1">&lt;</a>
                            </li>
                            <li class="page-item" *ngFor="let page of userPager.pager.pages"
                                [ngClass]="{active:userPager.pager.currentPage === page}"
                                (click)="setActionPage(page,0)">
                                <a class="page-link" href="javascript: void(0)">{{page}}</a>
                            </li>
                            <li class="page-item" (click)="setActionPage(userPager.pager.currentPage + 1,0)">

                                <a class="page-link" href="javascript: void(0)">&gt;</a>
                            </li>

                        </ul>
                    </nav>
                </div>

            </div>
        </div>
    </div>
</div>
